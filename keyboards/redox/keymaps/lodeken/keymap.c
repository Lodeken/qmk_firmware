#include QMK_KEYBOARD_H

#ifdef CONSOLE_ENABLE
    #include "print.h"
#endif

// All custom keycodes and aliases can be found in keymap.h
#include "keymap.h"

// Include additional features
// #include "features/achordion.h" // Add Achordion: https://getreuer.info/posts/keyboards/achordion/index.html

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  [_QWERTY] = LAYOUT(
  //┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐                                                                            ┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
     KC_GRV           ,KC_0001          ,KC_0002          ,KC_0003          ,KC_0004          ,KC_0005          ,                                                                             KC_0006          ,KC_0007          ,KC_0008          ,KC_0009          ,KC_0000          ,XXXXXXX          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     XXXXXXX          ,KC_Q             ,KC_W             ,KC_E             ,KC_R             ,KC_T             ,KC_LBRC          ,                                         KC_RBRC          ,KC_Y             ,KC_U             ,KC_I             ,KC_O             ,KC_P             ,KC_BSLS          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     KC_ESC           ,LGUI_T(KC_A)     ,LALT_T(KC_S)     ,LSFT_T(KC_D)     ,LCTL_T(KC_F)     ,KC_G             ,KC_MINS          ,                                         KC_EQUAL         ,KC_H             ,LCTL_T(KC_J)     ,LSFT_T(KC_K)     ,LALT_T(KC_L)     ,LGUI_T(KC_SCLN)  ,KC_QUOT          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐─────────────────┐    ┌─────────────────┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     MO(_NUM)         ,KC_Z             ,KC_X             ,KC_C             ,KC_V             ,KC_B             ,KC_HOME          ,KC_END           ,     KC_PGUP          ,KC_PGDN          ,KC_N             ,KC_M             ,KC_COMM          ,KC_DOTX          ,KC_SLSH          ,CAPS_WORD        ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼────────┬────────┴────────┬────────┼─────────────────┐─────────────────┤    ├─────────────────┌─────────────────┬────────┼────────┴────────┼────────┬─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,KC_LGUI          ,LALT_T(KC_DEL)   ,         LSFT_T(KC_BSPC)  ,         LT(_NAV_R, KC_SPC) ,LCTL_T(KC_TAB)   ,     LCTL_T(KC_ENT) ,LT(_NAV_L, KC_BSPC),         RSFT_T(KC_DEL)   ,         KC_RALT          ,KC_RGUI          ,XXXXXXX          ,MO(_NUM)
  //└─────────────────┴─────────────────┴─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┘    └─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┴─────────────────┴─────────────────┘

  ),

  [_NUM] = LAYOUT(
  //┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐                                                                            ┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
     _______          ,_______          ,KC_NUM           ,KC_PSLS          ,KC_PAST          ,KC_PMNS          ,                                                                             _______          ,KC_NUM           ,KC_PSLS          ,KC_PAST          ,KC_PMNS          ,KC_CALC          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,KC_KP_7          ,KC_KP_8          ,KC_KP_9          ,KC_PPLS          ,_______          ,                                         _______          ,_______          ,KC_KP_7          ,KC_KP_8          ,KC_KP_9          ,KC_PPLS          ,_______          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,KC_KP_4          ,KC_KP_5          ,KC_KP_6          ,KC_PPLS          ,_______          ,                                         _______          ,_______          ,KC_KP_4          ,KC_KP_5          ,KC_KP_6          ,KC_PPLS          ,_______           ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐─────────────────┐    ┌─────────────────┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,KC_KP_1          ,KC_KP_2          ,KC_KP_3          ,KC_PENT          ,_______          ,_______          ,     _______          ,_______          ,_______          ,KC_KP_1          ,KC_KP_2          ,KC_KP_3          ,KC_PENT          ,_______           ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼────────┬────────┴────────┬────────┼─────────────────┐─────────────────┤    ├─────────────────┌─────────────────┬────────┼────────┴────────┼────────┬─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,_______          ,_______          ,         _______          ,         _______          ,_______          ,     _______          ,_______          ,         KC_KP_0          ,         KC_DOTX          ,_______          ,_______          ,_______
  //└─────────────────┴─────────────────┴─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┘    └─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┴─────────────────┴─────────────────┘

  ),

//   [_NUM] = LAYOUT(
//   //┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐                                                                            ┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
//      _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,                                                                             _______          ,KC_KP_7          ,KC_KP_8          ,KC_KP_9          ,KC_PAST          ,KC_CALC          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,                                         _______          ,_______          ,KC_KP_4          ,KC_KP_5          ,KC_KP_6          ,KC_PPLS          ,_______          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,                                         _______          ,_______          ,KC_KP_1          ,KC_KP_2          ,KC_KP_3          ,KC_PMNS          ,_______           ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐─────────────────┐    ┌─────────────────┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,     _______          ,_______          ,_______          ,KC_KP_0          ,KC_DOTX          ,KC_RPRN          ,KC_PSLS          ,_______           ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼────────┬────────┴────────┬────────┼─────────────────┐─────────────────┤    ├─────────────────┌─────────────────┬────────┼────────┴────────┼────────┬─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,_______          ,_______          ,_______          ,         _______          ,         _______          ,_______          ,     _______          ,_______          ,         _______          ,         _______          ,_______          ,_______          ,_______
//   //└─────────────────┴─────────────────┴─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┘    └─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┴─────────────────┴─────────────────┘

//   ),

//   [_NUM] = LAYOUT(
//   //┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐                                                                            ┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
//      _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,                                                                             _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      KC_CALC          ,KC_SLSH          ,KC_0007          ,KC_0008          ,KC_0009          ,KC_EQLX          ,_______          ,                                         _______          ,KC_DLRX          ,KC_LCBR          ,KC_LBRC          ,KC_RBRC          ,KC_RCBR          ,KC_CIRC          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,KC_MINS          ,KC_0004          ,LSFT_T(KC_0005)  ,LCTL_T(KC_0006)  ,KC_PLUS          ,_______          ,                                         _______          ,KC_ATXX          ,KC_RCTL          ,KC_RSFT          ,KC_RALT          ,KC_RGUI          ,KC_PERC           ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐─────────────────┐    ┌─────────────────┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      TG(_NUM2)        ,KC_ASTR          ,KC_0001          ,KC_0002          ,KC_0003          ,KC_DOTX          ,_______          ,_______          ,     _______          ,_______          ,KC_HASH          ,KC_UNDS          ,KC_LPRN          ,KC_RPRN          ,KC_EXLM          ,KC_AMPR           ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼────────┬────────┴────────┬────────┼─────────────────┐─────────────────┤    ├─────────────────┌─────────────────┬────────┼────────┴────────┼────────┬─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,_______          ,_______          ,KC_0000          ,         _______          ,         _______          ,_______          ,     _______          ,_______          ,         _______          ,         _______          ,_______          ,_______          ,_______
//   //└─────────────────┴─────────────────┴─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┘    └─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┴─────────────────┴─────────────────┘

//   ),

//    [_NAV] = LAYOUT(
//   //┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐                                                                            ┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
//      _______          ,KC_F1XX          ,KC_F2XX          ,KC_F3XX          ,KC_F4XX          ,KC_F5XX          ,                                                                             KC_F6XX          ,KC_F7XX          ,KC_F8XX          ,KC_F9XX          ,KC_F10X          ,_______          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,C(S(KC_LEFT))    ,KC_HOME          ,KC_UPXX          ,KC_END           ,C(S(KC_RGHT))    ,KC_F11X          ,                                         KC_F12X          ,_______          ,KC_HOME          ,KC_UPXX          ,KC_END          ,_______          ,DT_UP            ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,KC_PGUP          ,KC_LEFT          ,KC_DOWN          ,KC_RGHT          ,KC_PGUP          ,_______          ,                                         _______          ,KC_PGUP          ,KC_LEFT          ,KC_DOWN          ,KC_RGHT          ,_______          ,DT_PRNT          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐─────────────────┐    ┌─────────────────┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,KC_PGDN          ,C(KC_LEFT)       ,_______          ,C(KC_RGHT)       ,KC_PGDN          ,_______          ,_______          ,     _______          ,_______          ,KC_PGDN          ,_______          ,_______          ,_______          ,_______          ,DT_DOWN          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼────────┬────────┴────────┬────────┼─────────────────┐─────────────────┤    ├─────────────────┌─────────────────┬────────┼────────┴────────┼────────┬─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,_______          ,_______          ,_______          ,         _______          ,         _______          ,_______          ,     _______          ,_______          ,         _______          ,         _______          ,_______          ,_______          ,_______
//   //└─────────────────┴─────────────────┴─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┘    └─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┴─────────────────┴─────────────────┘

//   ),

   [_NAV_L] = LAYOUT(
  //┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐                                                                            ┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
     _______          ,KC_F1XX          ,KC_F2XX          ,KC_F3XX          ,KC_F4XX          ,KC_F5XX          ,                                                                             KC_F6XX          ,KC_F7XX          ,KC_F8XX          ,KC_F9XX          ,KC_F10X          ,_______          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,C(S(KC_LEFT))    ,KC_HOME          ,KC_UPXX          ,KC_END           ,C(S(KC_RGHT))    ,KC_F11X          ,                                         KC_F12X          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______            ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,KC_PGUP          ,KC_LEFT          ,KC_DOWN          ,KC_RGHT          ,KC_PGUP          ,_______          ,                                         _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐─────────────────┐    ┌─────────────────┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,KC_PGDN          ,C(KC_LEFT)       ,_______          ,C(KC_RGHT)       ,KC_PGDN          ,_______          ,_______          ,     _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼────────┬────────┴────────┬────────┼─────────────────┐─────────────────┤    ├─────────────────┌─────────────────┬────────┼────────┴────────┼────────┬─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,_______          ,_______          ,         _______          ,         _______          ,_______          ,     _______          ,_______          ,         _______          ,         _______          ,_______          ,_______          ,_______
  //└─────────────────┴─────────────────┴─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┘    └─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┴─────────────────┴─────────────────┘

  ),

    [_NAV_R] = LAYOUT(
  //┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐                                                                            ┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
     _______          ,KC_F1XX          ,KC_F2XX          ,KC_F3XX          ,KC_F4XX          ,KC_F5XX          ,                                                                             KC_F6XX          ,KC_F7XX          ,KC_F8XX          ,KC_F9XX          ,KC_F10X          ,_______          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,_______          ,_______          ,_______           ,_______         ,KC_F11X          ,                                         KC_F12X          ,_______          ,KC_HOME          ,KC_UPXX          ,KC_END           ,_______          ,DT_UP            ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,                                         _______          ,KC_PGUP          ,KC_LEFT          ,KC_DOWN          ,KC_RGHT          ,_______          ,DT_PRNT          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐─────────────────┐    ┌─────────────────┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,_______          ,     _______          ,_______          ,KC_PGDN          ,_______          ,_______          ,_______          ,_______          ,DT_DOWN          ,
  //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼────────┬────────┴────────┬────────┼─────────────────┐─────────────────┤    ├─────────────────┌─────────────────┬────────┼────────┴────────┼────────┬─────────────────┼─────────────────┼─────────────────┼─────────────────┤
     _______          ,_______          ,_______          ,_______          ,         _______          ,         _______          ,_______          ,     _______          ,_______          ,         _______          ,         _______          ,_______          ,_______          ,_______
  //└─────────────────┴─────────────────┴─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┘    └─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┴─────────────────┴─────────────────┘

  ),



//   [_FUN] = LAYOUT(
//   //┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐                                                                            ┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
//      _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,                                                                             _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,KC_F10X          ,KC_F7XX          ,KC_F8XX          ,KC_F9XX          ,_______          ,_______          ,                                         _______          ,KC_SLCK          ,_______          ,_______          ,_______          ,_______          ,_______          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,KC_F11X          ,KC_F4XX          ,KC_F5XX          ,KC_F6XX          ,KC_INS           ,_______          ,                                         _______          ,KC_PSCR          ,_______          ,_______          ,_______          ,_______          ,_______          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐─────────────────┐    ┌─────────────────┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,KC_F12X          ,KC_F1XX          ,KC_F2XX          ,KC_F3XX          ,_______          ,_______          ,_______          ,     _______          ,_______          ,KC_PAUS          ,_______          ,_______          ,_______          ,_______          ,_______          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼────────┬────────┴────────┬────────┼─────────────────┐─────────────────┤    ├─────────────────┌─────────────────┬────────┼────────┴────────┼────────┬─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,_______          ,_______          ,_______          ,         _______          ,         _______          ,_______          ,     _______          ,_______          ,         _______          ,         _______          ,_______          ,_______          ,_______
//   //└─────────────────┴─────────────────┴─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┘    └─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┴─────────────────┴─────────────────┘

//   ),


//   [_TEST] = LAYOUT(
//   //┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐                                                                            ┌─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────┐
//      _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,                                                                             _______          ,_______          ,_______          ,_______          ,_______          ,_______          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,_______          ,                                         _______          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐                                        ┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,_______          ,                                         _______          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┐─────────────────┐    ┌─────────────────┌─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,_______          ,_______          ,     _______          ,_______          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,
//   //├─────────────────┼─────────────────┼─────────────────┼─────────────────┼────────┬────────┴────────┬────────┼─────────────────┐─────────────────┤    ├─────────────────┌─────────────────┬────────┼────────┴────────┼────────┬─────────────────┼─────────────────┼─────────────────┼─────────────────┤
//      _______          ,_______          ,_______          ,XXXXXXX          ,         XXXXXXX          ,         XXXXXXX          ,XXXXXXX          ,     XXXXXXX          ,XXXXXXX          ,         XXXXXXX          ,         XXXXXXX          ,XXXXXXX          ,XXXXXXX          ,_______
//   //└─────────────────┴─────────────────┴─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┘    └─────────────────┴─────────────────┘        └─────────────────┘        └─────────────────┴─────────────────┴─────────────────┴─────────────────┘

//   ),

};


//////////////////
/* HOMEROW MODS */
//////////////////

uint16_t get_tapping_term(uint16_t keycode, keyrecord_t *record) {

    switch (keycode) {
        case LGUI_T(KC_A):
        case LGUI_T(KC_SCLN):
            return TAPPING_TERM + 30;
        case LALT_T(KC_S):
        case LSFT_T(KC_D):
        case LCTL_T(KC_F):
        case LCTL_T(KC_J):
        case LSFT_T(KC_K):
        case LALT_T(KC_L):
            return TAPPING_TERM + 15;
        default:
            return TAPPING_TERM;
    }
}

bool get_tapping_force_hold(uint16_t keycode, keyrecord_t *record) {

    // If you quickly hold a tap-hold key after tapping it, the tap action is
    // repeated. Key repeating is useful e.g. for Vim navigation keys, but can
    // lead to missed triggers in fast typing. Here, returning true means we
    // instead want to "force hold" and disable key repeating.
    switch (keycode) {

        /* All homerow keys */
        // Left
        // case LGUI_T(KC_A):
        // case LALT_T(KC_S):
        // case LSFT_T(KC_D):
        // case LCTL_T(KC_F):

        // Right
        // case RGUI_T(KC_O):
        // case RALT_T(KC_I):
        // case RSFT_T(KC_E):
        // case RCTL_T(KC_N):

        /* All thumb keys */

        // Left
        case LSFT_T(KC_BSPC):
        case LT(_NAV_R, KC_SPC):
        case LCTL_T(KC_TAB):

        // Right
        case LCTL_T(KC_ENT):
        case LT(_NAV_L, KC_BSPC):
        case RSFT_T(KC_DEL):

            return false; // Enable key repeating
        default:
            return true; // Otherwise, force hold and disable key repeating
    }
}

///////////////
/* ACHORDION */
///////////////

// void matrix_scan_user(void) {
//     achordion_task();
// }

// bool achordion_chord(uint16_t tap_hold_keycode,
//                      keyrecord_t* tap_hold_record,
//                      uint16_t other_keycode,
//                      keyrecord_t* other_record) {
//     // Exceptionally consider the following chords as holds, even though they
//     // are on the same hand in Dvorak.
//     switch (tap_hold_keycode) {
//         // case LGUI_T(KC_A):
//         //     if (other_keycode == KC_E ||
//         //         other_keycode == LALT_T(KC_R) ||
//         //         other_keycode == LSFT_T(KC_S) ||
//         //         other_keycode == KC_D) {
//         //     return true;
//         //     }

//         // case LALT_T(KC_R):
//         //     if (other_keycode == LSFT_T(KC_TAB)) {
//         //     return true;
//         //     }

//         // case LSFT_T(KC_S):
//         //     if (other_keycode == LSFT_T(KC_TAB)) {
//         //     return true;
//         //     }

//         // case LCTL_T(KC_T):
//         //     if (other_keycode == KC_W ||
//         //         other_keycode == KC_F ||
//         //         other_keycode == LGUI_T(KC_A) ||
//         //         other_keycode == LALT_T(KC_R) ||
//         //         other_keycode == LSFT_T(KC_S) ||
//         //         other_keycode == KC_Z ||
//         //         other_keycode == KC_X ||
//         //         other_keycode == KC_C) {
//         //     return true;
//         //     }

//         // case LALT_T(KC_DEL):
//         // case LT(_NAV, KC_BSPC):
//         // case LSFT_T(KC_SPC):
//         // case LCTL_T(KC_TAB):
//         // case LCTL_T(KC_ENT):
//         // case RSFT_T(KC_BSPC):
//         // case LT(_NAV, KC_DEL):
//         // case KC_RALT:
//         // case KC_RGUI:
//         //     return true;

//         break;
//         }

//     // Otherwise, follow the opposite hands rule.
//     return achordion_opposite_hands(tap_hold_record, other_record);
// }

// // uint16_t achordion_timeout(uint16_t tap_hold_keycode) {

// //   switch (tap_hold_keycode) {
//     // case LALT_T(KC_DEL):
//     // case LT(_NAV, KC_BSPC):
//     // case LSFT_T(KC_SPC):
//     // case LCTL_T(KC_TAB):
//     // case LCTL_T(KC_ENT):
//     // case RSFT_T(KC_BSPC):
//     // case LT(_NAV, KC_DEL):
//     // case KC_RALT:
//     // case KC_RGUI:
//     // case LGUI_T(KC_A):
//     // case LALT_T(KC_S):

// //       return 0;  // Bypass Achordion for these keys.
// //   }

// //   return 5000; // Otherwise use a timeout of 5000ms

// // }

// ///////////////
// /* CAPS WORD */
// ///////////////

// bool caps_word_press_user(uint16_t keycode) {
//   switch (keycode) {
//     // Keycodes that continue Caps Word, with shift applied.
//     case KC_A ... KC_Z:
//     case KC_MINS:
//       add_weak_mods(MOD_BIT(KC_LSFT));  // Apply shift to the next key.
//       return true;

//     // Keycodes that continue Caps Word, without shifting.
//     case KC_1 ... KC_0:
//     case KC_BSPC:
//     case KC_DEL:
//     case KC_UNDS:
//     case KC_PIPE: // Custom
//     case KC_LPRN: // Custom
//     case KC_RPRN: // Custom
//       return true;

//     default:
//       return false;  // Deactivate Caps Word.
//   }
// }

//////////////
/* NUM WORD */
//////////////

static bool disable_next_num_word = false;

void num_word_enable(void) {
    num_word_on = true;
    layer_on(_NUM);
}
void num_word_disable(void) {
    num_word_on = false;
    layer_off(_NUM);
}

// Used to extract the basic tapping keycode from a dual-role key.
// Example: GET_TAP_KC(MT(MOD_RSFT, KC_E)) == KC_E
#define GET_TAP_KC(dual_role_key) dual_role_key & 0xFF

void process_num_word(uint16_t keycode, const keyrecord_t *record) {
    // Update caps word state
    if (num_word_on) {

        if (disable_next_num_word) {
            num_word_disable();
            disable_next_num_word = false;
        } else {

            switch (keycode) {
                case QK_MOD_TAP ... QK_MOD_TAP_MAX:
                case QK_LAYER_TAP ... QK_LAYER_TAP_MAX:
                    // Earlier return if this has not been considered tapped yet
                    if (record->tap.count == 0) { return; }
                    // Get the base tapping keycode of a mod- or layer-tap key
                    keycode = GET_TAP_KC(keycode);
                    break;
                default:
                    break;
            }

            switch (keycode) {
                // Keycodes that should not result in loss of num_word state
                case KC_1 ... KC_0:
                case KC_PLUS:
                case KC_MINS:
                case KC_ASTR:
                case KC_SLSH:
                case KC_DOTX:

                case KC_HASH:
                case KC_DLRX:
                case KC_PERC:
                case KC_CIRC:
                case KC_AMPR:
                case KC_ATXX:

                case KC_LPRN:
                case KC_UNDS:

                case KC_BSPC:
                case KC_TAB:
                // case KC_PIPE: -- not possible to hit this while in num layer
                    break;

                // For keycode that you want to go through, but disable numword at the next press
                case KC_RPRN:
                case KC_RCBR:
                case KC_RBRC:
                case KC_EXLM:

                    disable_next_num_word = true;
                    break;

                default:
                    // Any other keycode should disable numword
                    if (record->event.pressed) {
                        num_word_disable();
                    }
                    break;
            }
        }
    }
}

void keyboard_post_init_user(void) {
    // Useful if you need to initialise timer reads here.
}

////////////////////////////
/* MAIN: BOOL_RECORD_USER */
////////////////////////////

static uint8_t mod_state;
static uint8_t oneshot_mod_state;
static uint16_t last_keycode = KC_NO;

static bool lgui_is_on = false;
static bool lalt_is_on = false;
static bool lsft_is_on = false;
static bool lctl_is_on = false;

static bool rsft_is_on = false;

static bool lctl_only_is_on = false;
static bool lctl_lsft_only_is_on = false;

// static bool media_vol_state = true;

bool process_record_user(uint16_t keycode, keyrecord_t *record) {
    // if (!process_achordion(keycode, record)) { return false; }
    // if (!process_layer_lock(keycode, record, LYRLOCK)) { return false; }

    mod_state = get_mods();
    oneshot_mod_state = get_oneshot_mods();

    // 0 is false, and anything but 0 is true
    lgui_is_on = mod_state & MOD_BIT(KC_LGUI);
    lalt_is_on = mod_state & MOD_BIT(KC_LALT);
    lsft_is_on = mod_state & MOD_BIT(KC_LSFT);
    lctl_is_on = mod_state & MOD_BIT(KC_LCTL);

    rsft_is_on = mod_state & MOD_BIT(KC_RSFT);

    lctl_only_is_on = (mod_state == MOD_BIT(KC_LCTL));
    lctl_lsft_only_is_on = (mod_state == (MOD_BIT(KC_LCTL) | MOD_BIT(KC_LSFT)));

    #ifdef CONSOLE_ENABLE
        uprintf("KL: kc: 0x%04X, col: %u, row: %u, pressed: %b, time: %u, interrupt: %b, count: %u\n", keycode, record->event.key.col, record->event.key.row, record->event.pressed, record->event.time, record->tap.interrupted, record->tap.count);
    #endif

    // process_caps_word(keycode, record);
    process_num_word(keycode, record);

    switch (keycode) {

        case KC_REDO:
            if (record->event.pressed) {

            }

            return true;
            break;

        // case KC_MTOG:
        //     if (record->event.pressed) {
        //         media_vol_state = !media_vol_state;
        //     }

        //     return false;
        //     break;

        // Defined a different slash because num_word should continue being enabled if using slash in "numpad", but should be disabled if using slash in right hand side.
        case KC_SLS2:
            if (record->event.pressed) {
                tap_code(KC_SLSH);
            }

            return false;
            break;

        case KC_ESC:

            if (record->event.pressed) {
                if (layer_state_is(_NUM)) {
                    layer_off(_NUM);
                }
            }

            return true;
            break;

        case NUM_WORD:
            // Toggle caps_word_on
            if (record->event.pressed) {

                if (num_word_on) {
                    num_word_disable();
                } else {
                    num_word_enable();
                }
            }
            return false;
            break;

        default:
            return true;
            break;
    }
    return true;
}

///////////////////
/* KEY OVERRIDES */
///////////////////

// const key_override_t lalt_bspc_key_override = ko_make_basic(MOD_BIT(KC_LALT), LT(_NAV, KC_BSPC), KC_DEL);
// const key_override_t lalt_lsft_bspc_key_override = ko_make_basic(MOD_BIT(KC_LALT) | MOD_BIT(KC_LSFT), LT(_NAV, KC_BSPC), S(KC_DEL));
// const key_override_t lalt_lctl_bspc_key_override = ko_make_basic(MOD_BIT(KC_LALT) | MOD_BIT(KC_LCTL), LT(_NAV, KC_BSPC), C(KC_DEL));
// const key_override_t lctl_astr_key_override = ko_make_basic(MOD_BIT(KC_LCTL), KC_ASTR, C(KC_Z));
const key_override_t lctl_redo_key_override = ko_make_basic(MOD_BIT(KC_LCTL), MO(_NUM), C(KC_Y));
// const key_override_t lctl_lyrlock_key_override = ko_make_basic(MOD_BIT(KC_LCTL), LYRLOCK, C(KC_Y));
const key_override_t lctl_navbspc_key_override = ko_make_basic(MOD_BIT(KC_LCTL), LSFT_T(KC_BSPC), C(KC_C)); // Ctrl + C
const key_override_t lctl_lsft_navbspc_key_override = ko_make_basic(MOD_BIT(KC_LCTL) | MOD_BIT(KC_LSFT), LSFT_T(KC_BSPC), C(S(KC_C))); // Ctrl + Shift C
const key_override_t lctl_lsftspc_key_override = ko_make_basic(MOD_BIT(KC_LCTL), LT(_NAV_R, KC_SPC), C(KC_V)); // Ctrl + V
const key_override_t lctl_lsft_lsftspc_key_override = ko_make_basic(MOD_BIT(KC_LCTL) | MOD_BIT(KC_LSFT), LT(_NAV_R, KC_SPC), C(S(KC_V)));
const key_override_t lctl_lsft_lalts_key_override = ko_make_basic(MOD_BIT(KC_LCTL) | MOD_BIT(KC_LSFT), LALT_T(KC_S), C(S(KC_LABK)));
const key_override_t lctl_lsft_x_key_override = ko_make_basic(MOD_BIT(KC_LCTL) | MOD_BIT(KC_LSFT), KC_X, C(S(KC_RABK)));

const key_override_t **key_overrides = (const key_override_t *[]){
//     &lalt_bspc_key_override,
//     &lalt_lsft_bspc_key_override,
//     &lalt_lctl_bspc_key_override,
    // &lctl_astr_key_override,
    &lctl_redo_key_override,
    // &lctl_lyrlock_key_override,
    &lctl_navbspc_key_override,
    &lctl_lsft_navbspc_key_override,
    &lctl_lsftspc_key_override,
    &lctl_lsft_lsftspc_key_override,
    &lctl_lsft_lalts_key_override,
    &lctl_lsft_x_key_override,
    NULL // Null terminate the array of overrides!
};

// ////////// //
/* KEY COMBOS */
// ////////// //

// enum combos {
//     // AS_CMB,
//     // AE_CMB,
//     // EO_CMB,
//     WF_CMB,
//     // RS_CMB,
//     FP_CMB,
//     PB_CMB,
//     XC_CMB,
//     CD_CMB,
//     DV_CMB,
//     UY_CMB,
//     LU_CMB,
//     JL_CMB,
//     COMMDOT_CMB,
//     HCOMM_CMB,
//     KH_CMB,
//     DNAV_CMB,
//     THREENAV_CMB,
//     ESCA_CMB,
//     CAPSWORDZ_CMB,
//     FIVESIX_CMB,
//     COMBO_LENGTH
// };

// uint16_t COMBO_LEN = COMBO_LENGTH;

// // const uint16_t PROGMEM as_combo[] = {LGUI_T(KC_A), LSFT_T(KC_S), COMBO_END};
// // const uint16_t PROGMEM ae_combo[] = {LGUI_T(KC_A), RSFT_T(KC_E), COMBO_END};
// // const uint16_t PROGMEM eo_combo[] = {RSFT_T(KC_E), RGUI_T(KC_O), COMBO_END};
// const uint16_t PROGMEM wf_combo[] = {KC_W, KC_F, COMBO_END};
// // const uint16_t PROGMEM rs_combo[] = {LALT_T(KC_R), LSFT_T(KC_S), COMBO_END};
// const uint16_t PROGMEM fp_combo[] = {KC_F, KC_P, COMBO_END};
// const uint16_t PROGMEM pb_combo[] = {KC_P, KC_B, COMBO_END};
// // const uint16_t PROGMEM tg_combo[] = {LCTL_T(KC_T), KC_G, COMBO_END};
// const uint16_t PROGMEM xc_combo[] = {KC_X, KC_C, COMBO_END};
// const uint16_t PROGMEM cd_combo[] = {KC_C, KC_D, COMBO_END};
// const uint16_t PROGMEM dv_combo[] = {KC_D, KC_V, COMBO_END};
// const uint16_t PROGMEM uy_combo[] = {KC_U, KC_Y, COMBO_END};
// const uint16_t PROGMEM lu_combo[] = {KC_L, KC_U, COMBO_END};
// const uint16_t PROGMEM jl_combo[] = {KC_J, KC_L, COMBO_END};
// const uint16_t PROGMEM commdot_combo[] = {KC_COMM, KC_DOT, COMBO_END};
// const uint16_t PROGMEM hcomm_combo[] = {KC_H, KC_COMM, COMBO_END};
// const uint16_t PROGMEM kh_combo[] = {KC_K, KC_H, COMBO_END};
// const uint16_t PROGMEM dnav_combo[] = {KC_D, LT(_NAV, KC_BSPC), COMBO_END};
// const uint16_t PROGMEM threenav_combo[] = {KC_0003, LT(_NAV, KC_BSPC), COMBO_END};
// const uint16_t PROGMEM esca_combo[] = {KC_ESC, LGUI_T(KC_A), COMBO_END};
// const uint16_t PROGMEM capswordz_combo[] = {CAPS_WORD, KC_Z, COMBO_END};
// const uint16_t PROGMEM fivesix_combo[] = {LSFT_T(KC_0005), LCTL_T(KC_0006), COMBO_END};
// // const uint16_t PROGMEM mn_combo[] = {KC_M, RCTL_T(KC_N), COMBO_END};

// combo_t key_combos[] = {
//     // [AS_CMB] = COMBO(as_combo, G(KC_S)),
//     // [AE_CMB] = COMBO(ae_combo, G(KC_E)),
//     // [EO_CMB] = COMBO(eo_combo, G(KC_E)),
//     [WF_CMB] = COMBO(wf_combo, A(KC_1)),
//     // [RS_CMB] = COMBO(rs_combo, A(KC_1)),
//     [FP_CMB] = COMBO(fp_combo, A(KC_2)),
//     [PB_CMB] = COMBO(pb_combo, A(KC_3)),
//     [XC_CMB] = COMBO(xc_combo, A(KC_4)),
//     [CD_CMB] = COMBO(cd_combo, A(KC_5)),
//     [DV_CMB] = COMBO(dv_combo, A(KC_6)),
//     [UY_CMB] = COMBO(uy_combo, A(KC_7)),
//     [LU_CMB] = COMBO(lu_combo, A(KC_8)),
//     [JL_CMB] = COMBO(jl_combo, A(KC_9)),
//     [COMMDOT_CMB] = COMBO(commdot_combo, KC_COMMDOT),
//     [HCOMM_CMB] = COMBO(hcomm_combo, KC_HCOMM),
//     [KH_CMB] = COMBO(kh_combo, KC_KH),
//     [DNAV_CMB] = COMBO(dnav_combo, KC_DEL),
//     [THREENAV_CMB] = COMBO(threenav_combo, KC_DEL),
//     [ESCA_CMB] = COMBO(esca_combo, KC_F2),
//     [CAPSWORDZ_CMB] = COMBO(capswordz_combo, KC_F12),
//     [FIVESIX_CMB] = COMBO(fivesix_combo, KC_ENTX),
// };

// uint16_t get_combo_term(uint16_t index, combo_t *combo) {
//     // decide by combo->keycode
//     switch (combo->keycode) {
//         case FIVESIX_CMB:
//             return COMBO_TERM - 10;
//         default:
//             return COMBO_TERM;
//     }

//     // or with combo index, i.e. its name from enum.
//     // switch (index) {
//     //     case DOWNRIGHT1_CMB:
//     //         return 100;
//     // }
//     // And if you're feeling adventurous, you can even decide by the keys in the chord,
//     // i.e. the exact array of keys you defined for the combo.
//     // This can be useful if your combos have a common key and you want to apply the
//     // same combo term for all of them.
//     // if (combo->keys[0] == KC_ENTER) { // if first key in the array is KC_ENTER
//     //     return 150;
//     // }

// }

// ///////// //
/* TAP DANCE */
// ///////// //
// https://thomasbaart.nl/2018/12/13/qmk-basics-tap-dance/

void sentence_end(qk_tap_dance_state_t *state, void *user_data) {
    switch (state->count) {

        // Double tapping TD_DOT produces
        // ". <one-shot-shift>" i.e. dot, space and capitalize next letter.
        // This helps to quickly end a sentence and begin another one
        // without having to hit shift.
        case 2:
            /* Check that Shift is inactive */
            if (!(get_mods() & MOD_MASK_SHIFT)) {
                tap_code(KC_SPC);
                /* Internal code of OSM(MOD_LSFT) */
                add_oneshot_mods(MOD_BIT(KC_LSHIFT));

            } else {
                // send ">" (KC_DOT + shift → ">")
                tap_code(KC_DOT);
            }
            break;

        // Since `sentence_end` is called on each tap
        // and not at the end of the tapping term,
        // the third tap needs to cancel the effects
        // of the double tap in order to get the expected
        // three dots ellipsis.
        case 3:
            // remove the added space of the double tap case
            tap_code(KC_BSPC);
            // replace the space with a second dot
            tap_code(KC_DOT);
            // tap the third dot
            tap_code(KC_DOT);
            break;

        // send KC_DOT on every normal tap of TD_DOT
        default:
            tap_code(KC_DOT);
    }
};

void sentence_end_finished (qk_tap_dance_state_t *state, void *user_data) {
    last_keycode = KC_DOT;
}

qk_tap_dance_action_t tap_dance_actions[] = {

    // Ed Dot dots
    [DOT_TD] = ACTION_TAP_DANCE_FN_ADVANCED(sentence_end, sentence_end_finished, NULL),
};
